# OffBoardProvider
Off-Board Provider is module providing the CDL data received by the Collector to external server using RVI.

## Installation
### Tested Environment
OffBoardProvider is implemented and tested on:
* VMWare Workstation 12 Player (12.1.1 build-3770994)
* Ubuntu 14.04 64bit
* Qt 5.6.1 (for test application)

### Precondition
To build OffBoardProvider, following package are required
* python 2.7.6
* Boost 1.54 (or later)
  * system, thread, log, iostreams
* [rvi_core 0.5.1](https://github.com/GENIVI/rvi_core/releases)

### Clone Source Codes
Clone source codes from GENIVI GitHub using following command in the terminal window:
#### CDL

        $ git clone https://github.com/GENIVI/cat-data-logger.git

        $ git checkout trial-integration-with-rvi

### Build & Install
#### Off Board Provider build & install
In OffBoardProvider directory of CDL, build & install using following command:

        $ mkdir build
        $ cd build
        $ cmake ..
        $ make
        $ sudo make install

#### Test Application build & install
Navigate to the test directory of OffBoardProvider, and build & install using following command:
        
        $ qmake -r -spec linux-g++
        $ make
        $ sudo make install
        
After the installation, you can find binary(OffBoardProviderTestApp) and other files(5 sample JSON files) in deploy directory.

Also you can find other files(`rvi_service.py`, `rvi_call.py`) for transferring the JSON file in `/usr/lib/rvi_core` directory.

### Run
Run the `RVIServerTestApp` before run the `OffBoardProviderTestApp`.

And you sould replace node information in `rvi_call.py` with node information generated by `RVIServerTestApp`.

Please refer to [RVIServerTestApp](https://github.com/GENIVI/car-data-logger/tree/trial-integration-with-rvi/OffBoardProvider/test/RVIServerTestApp/README.md) page for more details.

Prepare a terminal window and navigate to the deploy directory of test.
And add library search path for `OffBoardProvider` library to the `LD_LIBRARY_PATH` using following command in terminal:

        $ export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/local/lib

Run OffBoardProviderTestApp on the terminal.

        $ ./OffBoardProviderTestApp
        
The OffBoardProvider transfers sample JSON files to the `RVIServerTestApp` using RVI_Core.

